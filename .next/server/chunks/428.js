exports.id=428,exports.ids=[428],exports.modules={6632:(e,t,s)=>{Promise.resolve().then(s.bind(s,7655))},6251:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},3870:(e,t,s)=>{"use strict";s.d(t,{mu:()=>d,Ts:()=>l,zm:()=>o,ST:()=>u,be:()=>c,_B:()=>i,Np:()=>N,uT:()=>S,JE:()=>h,Wn:()=>E});let n={BaseUrl:"http://157.245.196.187:8080/api/v1/"};var i,r=s(987),a=s(6847);let c="lang",o="ek",S="sid",l=n.BaseUrl+"scanner/connectw",d=n.BaseUrl+"scanner/connecte",u=n.BaseUrl+"scanner/export";n.BaseUrl;let h=n.BaseUrl+"scanner/uweigh";!function(e){e.HOME="/",e.EXPORT="/export",e.WEIGH="/weigh"}(i||(i={}));let N=new Map([[a.N.Success,r.d.SCAN_SUCCESS],[a.N.Duplicate,r.d.SCAN_DUP],[a.N.InvalidItem,r.d.SCAN_INVALID],[a.N.NoSession,r.d.SCAN_NO_SESSION],[a.N.ItemNotFound,r.d.SCAN_NO_ITEM]]);a.N.Success,r.d.SCAN_SUCCESS_MESSAGE,a.N.Duplicate,r.d.SCAN_DUP_MESSAGE,a.N.InvalidItem,r.d.SCAN_INVALID_MESSAGE,a.N.NoSession,r.d.SCAN_NO_SESSION_MESSAGE,a.N.ItemNotFound,r.d.SCAN_NO_ITEM_MESSAGE;let E=new Set(["packageSeries","po","packageId"])},7503:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r}),function(e){e.VietNam="vi",e.English="en",e.Chinese="zh"}(n||(n={}));var n,i=s(987);class r{constructor(){this.activeLang=n.VietNam}static instance(){return this._instance||(this._instance=new this),this._instance}setLang(e){e&&(this.activeLang=e)}text(e){if(i.j[e])return i.j[e][this.activeLang];console.info("use invalid text key.",e)}}},987:(e,t,s)=>{"use strict";var n;s.d(t,{d:()=>n,j:()=>i}),function(e){e.EMPTY="",e.SESSION_EXPIRE="SESSION_EXPIRE",e.GUIDE_SCAN="GUI_SCAN",e.EXPORT="EXPORT",e.WEIGH="WEIGH",e.SCAN_SUCCESS="SCAN_SUCCESS",e.SCAN_DUP="SCAN_DUP",e.SCAN_INVALID="SCAN_INVALID",e.SCAN_NO_SESSION="SCAN_NO_SESSION",e.SCAN_NO_ITEM="SCAN_NO_ITEM",e.SCAN_SUCCESS_MESSAGE="SCAN_SUCCESS_MESSAGE",e.SCAN_DUP_MESSAGE="SCAN_DUP_MESSAGE",e.SCAN_INVALID_MESSAGE="SCAN_INVALID_MESSAGE",e.SCAN_NO_SESSION_MESSAGE="SCAN_NO_SESSION_MESSAGE",e.SCAN_NO_ITEM_MESSAGE="SCAN_NO_ITEM_MESSAGE",e.WEIGH_FIELD_NAME="WEIGH_FIELD_NAME",e.SUBMIT="SUBMIT",e.ERR_RETRY="ERR_RETRY"}(n||(n={}));let i={SESSION_EXPIRE:{vi:"Phi\xean xử l\xfd đ\xe3 hết hạn.",en:"The session has expired.",zh:"会话已过期"},GUI_SCAN:{vi:"Đưa camera tới QR code để qu\xe9t.",en:"Scan the QR code with your camera.",zh:"使用相机扫描 QR 码"},WEIGH:{vi:"C\xc2N H\xc0NG",en:"WEIGH",zh:"衡量"},EXPORT:{vi:"XUẤT H\xc0NG",en:"EXPORT",zh:"輸出"},SCAN_SUCCESS:{vi:"QU\xc9T TH\xc0NH C\xd4NG",en:"SCAN SUCCESS",zh:"掃描碼成功"},SCAN_DUP:{vi:"QU\xc9T TR\xd9NG",en:"Duplicated",zh:"重複的"},SCAN_INVALID:{vi:"QU\xc9T SAI PHI\xcaN",en:"SCAN_INVALID",zh:"SCAN_INVALID"},SCAN_NO_SESSION:{vi:"KH\xd4NG C\xd3 PHI\xcaN",en:"No session",zh:"沒有會話處理"},SCAN_NO_ITEM:{vi:"SANE PHẨM KH\xd4NG TỒN TẠI",en:"The item does not exist",zh:"此產品不存在"},SCAN_SUCCESS_MESSAGE:{vi:"Qu\xe9t th\xe0nh c\xf4ng",en:"SCAN SUCCESS",zh:"掃描碼成功"},SCAN_DUP_MESSAGE:{vi:"Sản phẩm n\xe0y đ\xe3 được qu\xe9t!",en:"This item has already been scanned",zh:"該商品已掃描"},SCAN_INVALID_MESSAGE:{vi:"Sản phẩm n\xe0y kh\xf4ng nằm trong phi\xean",en:"This product is not available in session!",zh:"該產品在會話中不可用"},SCAN_NO_SESSION_MESSAGE:{vi:"Phi\xean xử l\xfd n\xe0y kh\xf4ng tồn tại!",en:"Session does not exist",zh:"會話不存在"},SCAN_NO_ITEM_MESSAGE:{vi:"Sản phẩm n\xe0y kh\xf4ng tồn tại!",en:"This item does not exist",zh:"此產品不存在"},WEIGH_FIELD_NAME:{vi:"C\xe2n nặng",en:"weight",zh:"重量"},SUBMIT:{vi:"Nhập",en:"Submit",zh:"輸入資料"},ERR_RETRY:{vi:"C\xf3 lỗi, thử lại sau",en:"Error, retry later",zh:"錯誤，稍後重試"}}},5179:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});class n{constructor(){}setExecutor(e){this.excutor=e}show(e){this.excutor(e)}close(){this.excutor("")}}let i=new n},854:(e,t,s)=>{"use strict";s.d(t,{U:()=>h});var n=s(3870),i=s(7503),r=s(987),a=s(3093),c=s(1095);let{AES:o,enc:S}=s(339);class l{init(e){this.encryptKey=e}aesEncrypt(e){return o.encrypt(JSON.stringify(e),this.encryptKey).toString()}aesDecrypt(e){return 0==Object.keys(e).length?e:JSON.parse(o.decrypt(e,this.encryptKey).toString(S.Utf8))}aesEncryptUseKey(e,t){return o.encrypt(JSON.stringify(t),e).toString()}aesDecryptUseKey(e,t){return JSON.parse(o.decrypt(t,e).toString(S.Utf8))}constructor(){this.encryptKey=""}}let d=new l;var u=s(6847);class h{constructor(){this.endpoint="",this.sessionId=""}static instance(){return this._instance||(this._instance=new this),this._instance}initSession(e,t,s){this.endpoint=e,this.sessionId=t,d.init(s)}getFullData(e){return new Promise(t=>{let s=e=>{this.lastData=e,t(e)};return""==this.endpoint?(console.log("endpoint not set, use default"),s(e)):fetch(this.endpoint+`?sid=${this.sessionId}`,{method:"post",headers:{"Content-Type":"text/plain"},body:d.aesEncrypt({subId:e})}).then(async e=>{let t=await e.json(),n=t.error_code==c.jK.SessionNotFound?t.data:d.aesDecrypt(t.data);switch(n.status){case u.N.Success:case u.N.Duplicate:case u.N.InvalidItem:case u.N.ItemNotFound:s(n);break;case u.N.NoSession:throw Error("No session")}}).catch(t=>{console.log("fail to submit data",t),s(e)})})}getLastData(){return this.lastData}getChanelName(e,t,s){return fetch(`${e===n._B.WEIGH?n.Ts:n.mu}?sid=${t}`,{method:"get",headers:{"Content-Type":"text/plain"}}).then(async e=>{let t=await e.json();if(t.error_code==c.jK.Success){let e=d.aesDecryptUseKey(s,t.data);if(e.status===c.o2.Success)return e.info.channelName}throw Error(`fetch channel stt: ${t.error_code} - ${t.message}`)}).catch(e=>{throw console.log("fail to get chanel name",e),e})}submitWeighData(e){return fetch(n.JE+`?sid=${this.sessionId}`,{method:"post",headers:{"Content-Type":"text/plain"},body:d.aesEncrypt({subId:501,weigh:e})}).then(async e=>{let t=await e.json();if(console.log("submitWeighData done: ",t.error_code,t.message),t.error_code==c.jK.Success)return!0;throw Error("fail: "+t.error_code)}).catch(e=>(a.Z.show(i.Z.instance().text(r.d.ERR_RETRY)||"",2e3),console.error("submitWeighData err: ",e),!1))}}},6847:(e,t,s)=>{"use strict";var n;s.d(t,{N:()=>n}),function(e){e[e.Success=0]="Success",e[e.Duplicate=1]="Duplicate",e[e.NoSession=2]="NoSession",e[e.InvalidItem=3]="InvalidItem",e[e.ItemNotFound=4]="ItemNotFound",e[e.Error=5]="Error"}(n||(n={}))},3093:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});class n{constructor(){}setExecutor(e){this.excutor=e}show(e,t=700){this.excutor(e),setTimeout(()=>{this.excutor("")},t)}}let i=new n},1095:(e,t,s)=>{"use strict";var n,i,r;s.d(t,{jK:()=>n,o2:()=>r,xY:()=>i}),function(e){e[e.Success=0]="Success",e[e.InvalidKey=1]="InvalidKey",e[e.PermissionDenied=2]="PermissionDenied",e[e.InvalidAuth=3]="InvalidAuth",e[e.AccountExists=4]="AccountExists",e[e.SessionNotFound=5]="SessionNotFound",e[e.InvalidPayload=6]="InvalidPayload",e[e.PasswordIncorrect=7]="PasswordIncorrect",e[e.ResourceNotFound=8]="ResourceNotFound",e[e.Error=9]="Error"}(n||(n={})),function(e){e.EXPORT="EXPORT",e.WEIGH="WEIGH",e.NO_SESSION="NO_SESSION"}(i||(i={})),function(e){e[e.Success=0]="Success",e[e.NoSession=2]="NoSession"}(r||(r={}))},9801:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var n=s(5047);function i(...e){let t=new URLSearchParams((0,n.useSearchParams)());return e.reduce((e,s)=>{let n=t.get(s)||"";return e[s]=n,e},{})}},7655:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(326),i=s(1195),r=s.n(i);s(4047);var a=s(6417),c=s(7577),o=s.n(c),S=s(6226),l=s(8264),d=s(5179),u=s(7503),h=s(5047),N=s(3870);let E=o().memo(e=>{let[t,s]=(0,a.FV)(l.ZA),i=new URLSearchParams((0,h.useSearchParams)());return(u.Z.instance().setLang(i.get(N.be)),(0,c.useEffect)(()=>(d.Z.setExecutor(s),()=>{}),[]),""==t)?null:n.jsx(n.Fragment,{children:n.jsx("div",{className:"fixed flex justify-center items-center w-screen h-screen z-30 top-0 bg-black bg-opacity-40",children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center bg-white text-[#EF4E49] w-5/6 h-fit rounded-md py-2 wrap text-center",children:[n.jsx(S.default,{className:"px-1",src:"/warning.png",width:52,height:52,alt:"connected-icon"}),n.jsx("span",{className:"font-bold m-2",children:t}),n.jsx("button",{onClick:()=>{console.log("clickkk"),d.Z.close()},className:"bg-[#F5832F] w-fit py-1 px-4 m-4 rounded-md text-white text-lg focus:bg-[#f96a01]",children:"Đ\xe3 hiểu"})]})})})});var _=s(3093);let I=o().memo(e=>{let[t,s]=(0,a.FV)(l.Jk);return((0,c.useEffect)(()=>(_.Z.setExecutor(s),()=>{}),[]),""==t)?null:n.jsx(n.Fragment,{children:n.jsx("div",{className:"fixed flex justify-center items-center w-screen h-screen z-50",children:n.jsx("div",{className:"flex justify-center bg-black text-white w-2/3 h-fit rounded-md py-2 wrap text-center opacity-70",children:t})})})});function m({children:e}){let t=`${r().className} `;return n.jsx("html",{lang:"en",children:n.jsx("body",{className:t,children:n.jsx(a.Wh,{children:(0,n.jsxs)(c.Suspense,{children:[n.jsx(I,{}),e,n.jsx(E,{})]})})})})}},8264:(e,t,s)=>{"use strict";s.d(t,{Jk:()=>S,ZA:()=>l,ns:()=>d,uZ:()=>u,y5:()=>o,yL:()=>c});var n=s(6417),i=s(987),r=s(6847);(0,n.cn)({key:"host",default:{connected:!1}});let a={status:r.N.Success,exportId:"1",info:{id:"1",packageSeries:"packageSeries",po:"po",packageId:"packageId"}},c=(0,n.cn)({key:"item",default:a}),o=(0,n.cn)({key:"noti",default:i.d.GUIDE_SCAN}),S=(0,n.cn)({key:"toast",default:""}),l=(0,n.cn)({key:"popup",default:""}),d=(0,n.cn)({key:"channel",default:""}),u=(0,n.cn)({key:"weighState",default:!1})},4218:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var n=s(326);s(7577);var i=s(6226),r=s(3006),a=s(6417),c=s(8264);s(854);var o=s(3870),S=s(9801);s(987);let l=e=>{let t=function(e){let[t,s]=(0,a.FV)(c.ns),{sid:n,ek:i}=(0,S.b)(o.uT,o.zm);return o._B.HOME,window.location.pathname.includes(o._B.EXPORT)&&o._B.EXPORT,window.location.pathname.includes(o._B.WEIGH)&&o._B.WEIGH,t}(e.tag);return e.connected?(0,n.jsxs)("div",{className:"flex flex-none justify-center items-center mb-2 h-8 rounded w-full bg-[#E5EFFF]",children:[e.tag&&(0,n.jsxs)(n.Fragment,{children:[n.jsx(r.Z,{style:"text-[#5198FF] font-semibold",textKey:e.tag}),n.jsx("div",{className:"w-0.5 h-5 bg-[#969595] mx-2"})]}),n.jsx("span",{className:"text-[#5198FF] max-w-52 truncate",children:n.jsx(r.Z,{style:"",textKey:t})}),n.jsx(i.default,{className:"px-1 w-6",src:"/tick.svg",width:40,height:40,alt:"connected-icon"})]}):(0,n.jsxs)("div",{className:"flex flex-none justify-center items-center mb-2 h-8 rounded w-full bg-[#FFF9D0]",children:[n.jsx("span",{className:"text-red-500",children:n.jsx(r.Z,{style:"",textKey:t})}),n.jsx(i.default,{className:"px-1 w-6",src:"/warning.png",width:40,height:40,alt:"connected-icon"})]})}},3006:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(326);s(7577);var i=s(7503);let r=({style:e,textKey:t})=>n.jsx("div",{className:e,children:i.Z.instance().text(t)||t})},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>r,default:()=>c});var n=s(8570);let i=(0,n.createProxy)(String.raw`D:\He thong quet QR\Web\export-manager-web\app\layout.tsx`),{__esModule:r,$$typeof:a}=i;i.default;let c=(0,n.createProxy)(String.raw`D:\He thong quet QR\Web\export-manager-web\app\layout.tsx#default`)},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var n=s(6621);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4047:()=>{}};